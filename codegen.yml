hooks:
  afterAllFileWrite:
    - npx prettier --write
overwrite: true
schema: ${NEXT_PUBLIC_API_URL}
documents:
  - 'src/**/*.gql'
watchConfig:
  usePolling: true
  interval: 1000
generates:
  src/app/types.generated.ts:
    plugins:
      - typescript
      - add:
          content: >
            /* eslint-disable */
    config:
      maybeValue: T # normally, this would be T | null, but our msw mock returns everything as nullable, so we want to force these as non-nullalbe
  src/:
    preset: near-operation-file
    presetConfig:
      baseTypesPath: 'app/types.generated.ts'
    plugins:
      - add:
          content: >
            /* eslint-disable */
            /**
             *
             * THIS FILE IS AUTOGENERATED, DO NOT EDIT IT!
             * instead, edit one of the `.gql` files in the project.
             */
      - add:
          content: "import { api } from '@src/app/baseApi';"
      - add:
          content: '(module as any).hot?.accept();'
      - typescript-operations
      - typescript-rtk-query:
          importBaseApiFrom: '@src/app/baseApi'
          exportHooks: true
          overrideExisting: '(module as any).hot?.status() === "apply"'
    config:
      maybeValue: T # normally, this would be T | null, but our msw mock returns everything as nullable, so we want to force these as non-nullalbe
